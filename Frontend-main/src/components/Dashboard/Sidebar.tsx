// components/Sidebar.tsx
'use client'
import Link from 'next/link'
import { usePathname,useRouter, useSearchParams } from 'next/navigation'
import { User, Users, BookOpen } from 'lucide-react'

const links = [
  { key: 'dashboard', label: 'Dashboard', icon:(<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10 15V12.5" stroke="#70707A"strokeWidth ="1.5" strokeLinecap="round" strokeLinejoin="round"/>
<path d="M8.39166 2.35004L2.61666 6.97504C1.96666 7.4917 1.55 8.58337 1.69166 9.40004L2.8 16.0334C3 17.2167 4.13333 18.175 5.33333 18.175H14.6667C15.8583 18.175 17 17.2084 17.2 16.0334L18.3083 9.40004C18.4417 8.58337 18.025 7.4917 17.3833 6.97504L11.6083 2.35837C10.7167 1.6417 9.275 1.6417 8.39166 2.35004Z" stroke="#70707A" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
</svg>
) },
  { key: 'users', label: 'Users', icon:(<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.83334 6.66667C5.83334 4.36548 7.69882 2.5 10 2.5C12.3012 2.5 14.1667 4.36548 14.1667 6.66667C14.1667 8.96785 12.3012 10.8333 10 10.8333C7.69882 10.8333 5.83334 8.96785 5.83334 6.66667ZM10 9.16667C11.3807 9.16667 12.5 8.04738 12.5 6.66667C12.5 5.28595 11.3807 4.16667 10 4.16667C8.6193 4.16667 7.50001 5.28595 7.50001 6.66667C7.50001 8.04738 8.6193 9.16667 10 9.16667Z" fill="#70707A"/>
<path d="M5.28596 13.6193C4.03572 14.8695 3.33334 16.5652 3.33334 18.3333H5.00001C5.00001 17.0073 5.52679 15.7355 6.46448 14.7978C7.40216 13.8601 8.67393 13.3333 10 13.3333C11.3261 13.3333 12.5979 13.8601 13.5355 14.7978C14.4732 15.7355 15 17.0073 15 18.3333H16.6667C16.6667 16.5652 15.9643 14.8695 14.7141 13.6193C13.4638 12.369 11.7681 11.6667 10 11.6667C8.2319 11.6667 6.53621 12.369 5.28596 13.6193Z" fill="#70707A"/>
</svg>
) },
  
  { key: 'classes', label: 'Classes', icon:(<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M18.3333 13.9501V3.89174C18.3333 2.89174 17.5167 2.15008 16.525 2.23341H16.475C14.725 2.38341 12.0667 3.27508 10.5833 4.20841L10.4417 4.30008C10.2 4.45008 9.79999 4.45008 9.55832 4.30008L9.34999 4.17508C7.86666 3.25008 5.21666 2.36674 3.46666 2.22508C2.47499 2.14174 1.66666 2.89174 1.66666 3.88341V13.9501C1.66666 14.7501 2.31666 15.5001 3.11666 15.6001L3.35832 15.6334C5.16666 15.8751 7.95832 16.7917 9.55832 17.6667L9.59166 17.6834C9.81666 17.8084 10.175 17.8084 10.3917 17.6834C11.9917 16.8001 14.7917 15.8751 16.6083 15.6334L16.8833 15.6001C17.6833 15.5001 18.3333 14.7501 18.3333 13.9501Z" stroke="#70707A" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
<path d="M10 4.57495V17.075" stroke="#70707A" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
<path d="M6.45834 7.07495H4.58334" stroke="#70707A" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
<path d="M7.08334 9.57495H4.58334" stroke="#70707A" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
</svg>
) },
{ key: 'feedback', label: 'Feedback', icon:(<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.5 10C8.89782 10 9.27936 10.158 9.56066 10.4393C9.84196 10.7206 10 11.1022 10 11.5V12C10 13.971 8.14 16 5 16C1.86 16 0 13.971 0 12V11.5C0 11.1022 0.158035 10.7206 0.43934 10.4393C0.720644 10.158 1.10218 10 1.5 10H8.5ZM8.5 11H1.5C1.36739 11 1.24021 11.0527 1.14645 11.1464C1.05268 11.2402 1 11.3674 1 11.5V12C1 13.438 2.432 15 5 15C7.568 15 9 13.438 9 12V11.5C9 11.3674 8.94732 11.2402 8.85355 11.1464C8.75979 11.0527 8.63261 11 8.5 11ZM5 3.5C5.72935 3.5 6.42882 3.78973 6.94454 4.30546C7.46027 4.82118 7.75 5.52065 7.75 6.25C7.75 6.97935 7.46027 7.67882 6.94454 8.19454C6.42882 8.71027 5.72935 9 5 9C4.27065 9 3.57118 8.71027 3.05546 8.19454C2.53973 7.67882 2.25 6.97935 2.25 6.25C2.25 5.52065 2.53973 4.82118 3.05546 4.30546C3.57118 3.78973 4.27065 3.5 5 3.5ZM14 0C14.5044 9.25758e-05 14.9901 0.190772 15.3599 0.533837C15.7297 0.876903 15.9562 1.34702 15.994 1.85L16 2V4C16.0002 4.50458 15.8096 4.99057 15.4665 5.36055C15.1234 5.73053 14.6532 5.95716 14.15 5.995L14 6H12.499L11.301 7.6C10.771 8.306 9.697 8.02 9.524 7.224L9.507 7.113L9.5 7V5.935L9.422 5.915C9.06238 5.80642 8.74061 5.59875 8.49354 5.31578C8.24648 5.03281 8.0841 4.68598 8.025 4.315L8.005 4.149L8 4V2C7.99984 1.49542 8.19041 1.00943 8.5335 0.639452C8.87659 0.269471 9.34684 0.0428433 9.85 0.00500011L10 0H14ZM5 4.5C4.77019 4.5 4.54262 4.54526 4.3303 4.63321C4.11798 4.72116 3.92507 4.85006 3.76256 5.01256C3.60006 5.17507 3.47116 5.36798 3.38321 5.5803C3.29526 5.79262 3.25 6.02019 3.25 6.25C3.25 6.47981 3.29526 6.70738 3.38321 6.9197C3.47116 7.13202 3.60006 7.32493 3.76256 7.48744C3.92507 7.64994 4.11798 7.77884 4.3303 7.86679C4.54262 7.95473 4.77019 8 5 8C5.46413 8 5.90925 7.81563 6.23744 7.48744C6.56563 7.15925 6.75 6.71413 6.75 6.25C6.75 5.78587 6.56563 5.34075 6.23744 5.01256C5.90925 4.68437 5.46413 4.5 5 4.5ZM14 1H10C9.75507 1.00003 9.51866 1.08996 9.33563 1.25272C9.15259 1.41547 9.03566 1.63975 9.007 1.883L9 2V4C9.00003 4.24493 9.08996 4.48134 9.25272 4.66437C9.41547 4.84741 9.63975 4.96434 9.883 4.993L10 5H10.5V7L12 5H14C14.2449 4.99997 14.4813 4.91004 14.6644 4.74728C14.8474 4.58453 14.9643 4.36025 14.993 4.117L15 4V2C15 1.75507 14.91 1.51866 14.7473 1.33563C14.5845 1.15259 14.3603 1.03566 14.117 1.007L14 1Z" fill="#70707A"/>
</svg>

)},
{ key: 'revenue', label: 'Revenue', icon:(<svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 16.5352L3.75 12.7852V18H0V16.5352ZM5 11.5352L8.75 7.78516V18H5V11.5352ZM17.5 6.75H18.75V18H15V9.03516L17.5 6.75ZM13.125 10.9102L13.75 10.2852V18H10V7.78516L13.125 10.9102ZM20 0.5V5.5H18.75V2.63867L13.125 8.25391L9.375 4.50391L0 13.8887V12.1113L9.375 2.74609L13.125 6.49609L17.8613 1.75H15V0.5H20Z" fill="#70707A"/>
</svg>
)},
]
const links2 = [
  { key: 'Settings', label: 'Settings', icon:(<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fillRule="evenodd" clipRule="evenodd" d="M9.99948 4.99982C7.23806 4.99982 4.99948 7.2384 4.99948 9.99982C4.99948 12.7612 7.23806 14.9998 9.99948 14.9998C12.7609 14.9998 14.9995 12.7612 14.9995 9.99982C14.9995 7.2384 12.7609 4.99982 9.99948 4.99982ZM6.66615 9.99982C6.66615 8.15887 8.15854 6.66649 9.99948 6.66649C11.8404 6.66649 13.3328 8.15887 13.3328 9.99982C13.3328 11.8408 11.8404 13.3332 9.99948 13.3332C8.15854 13.3332 6.66615 11.8408 6.66615 9.99982Z" fill="#667185"/>
<path fillRule="evenodd" clipRule="evenodd" d="M12.0843 1.69057C10.9219 0.566033 9.07708 0.566033 7.91464 1.69057C7.61939 1.9762 7.20885 2.10959 6.8021 2.05206C5.20069 1.82555 3.7082 2.9099 3.42876 4.50294C3.35778 4.90756 3.10405 5.25678 2.74117 5.44932C1.31246 6.20736 0.742379 7.96188 1.45267 9.41492C1.63308 9.78399 1.63308 10.2157 1.45267 10.5847C0.742378 12.0378 1.31246 13.7923 2.74117 14.5503C3.10405 14.7429 3.35778 15.0921 3.42876 15.4967C3.7082 17.0897 5.20069 18.1741 6.8021 17.9476C7.20885 17.8901 7.61939 18.0234 7.91464 18.3091C9.07708 19.4336 10.9219 19.4336 12.0843 18.3091C12.3796 18.0234 12.7901 17.8901 13.1969 17.9476C14.7983 18.1741 16.2908 17.0897 16.5702 15.4967C16.6412 15.0921 16.8949 14.7429 17.2578 14.5503C18.6865 13.7923 19.2566 12.0378 18.5463 10.5847C18.3659 10.2157 18.3659 9.78399 18.5463 9.41492C19.2566 7.96188 18.6865 6.20736 17.2578 5.44932C16.8949 5.25678 16.6412 4.90756 16.5702 4.50294C16.2908 2.9099 14.7983 1.82555 13.1969 2.05206C12.7901 2.10959 12.3796 1.9762 12.0843 1.69057ZM9.07347 2.88845C9.58978 2.38896 10.4092 2.38896 10.9255 2.88845C11.5902 3.53151 12.5145 3.83183 13.4303 3.7023C14.1416 3.60169 14.8045 4.08333 14.9286 4.7909C15.0884 5.70186 15.6596 6.48811 16.4766 6.92159C17.1112 7.25829 17.3644 8.03759 17.049 8.68298C16.6428 9.51389 16.6428 10.4858 17.049 11.3167C17.3644 11.9621 17.1112 12.7414 16.4766 13.0781C15.6596 13.5115 15.0884 14.2978 14.9286 15.2087C14.8045 15.9163 14.1416 16.398 13.4303 16.2973C12.5145 16.1678 11.5902 16.4681 10.9255 17.1112C10.4092 17.6107 9.58978 17.6107 9.07347 17.1112C8.40874 16.4681 7.48445 16.1678 6.56869 16.2973C5.85739 16.398 5.19448 15.9163 5.07036 15.2087C4.91056 14.2978 4.33932 13.5115 3.52232 13.0781C2.88773 12.7414 2.63452 11.9621 2.95001 11.3167C3.35618 10.4858 3.35618 9.51389 2.95001 8.68298C2.63452 8.03759 2.88773 7.25829 3.52232 6.92159C4.33932 6.48811 4.91056 5.70186 5.07036 4.7909C5.19448 4.08333 5.85739 3.60169 6.56869 3.7023C7.48445 3.83183 8.40874 3.53151 9.07347 2.88845Z" fill="#667185"/>
</svg>
) },
  { key: 'HelpCenter', label: 'Help Center', icon:(<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fillRule="evenodd" clipRule="evenodd" d="M9.99999 2.5C5.39762 2.5 1.66666 6.23096 1.66666 10.8333V13.3201C1.66649 13.3296 1.66649 13.3391 1.66666 13.3486V15.3431C1.66666 16.5343 2.63232 17.5 3.82352 17.5C5.01472 17.5 5.98038 16.5343 5.98038 15.3431V13.5422C5.98038 11.9241 4.55134 11.1746 3.33332 11.4231V10.8333C3.33332 7.15143 6.31809 4.16667 9.99999 4.16667C13.6819 4.16667 16.6667 7.15143 16.6667 10.8333V11.4143C15.449 11.1655 14.0196 11.9126 14.0196 13.5324V15.3431C14.0196 15.7402 14.1269 16.1122 14.314 16.4317C13.5764 16.7984 12.5699 17.0834 11.25 17.0834C10.7898 17.0834 10.4167 17.4565 10.4167 17.9167C10.4167 18.3769 10.7898 18.75 11.25 18.75C13.2866 18.75 14.7962 18.1755 15.8303 17.4724C15.943 17.4906 16.0586 17.5 16.1765 17.5C17.3677 17.5 18.3333 16.5343 18.3333 15.3431V13.3482C18.3335 13.339 18.3335 13.3298 18.3333 13.3206V10.8333C18.3333 6.23096 14.6024 2.5 9.99999 2.5ZM16.0433 15.815C16.0856 15.827 16.1303 15.8333 16.1765 15.8333C16.4472 15.8333 16.6667 15.6139 16.6667 15.3431V13.4069C16.6324 13.2496 16.5616 13.1698 16.4969 13.1234C16.4126 13.063 16.2882 13.0255 16.1466 13.0361C16.005 13.0468 15.8876 13.1025 15.8134 13.1748C15.7505 13.2361 15.6863 13.3386 15.6863 13.5324V15.3431C15.6863 15.5258 15.7862 15.6852 15.9344 15.7695C15.9716 15.782 16.008 15.7972 16.0433 15.815ZM3.33332 15.3431V13.4106C3.3688 13.2559 3.43954 13.1771 3.50434 13.1311C3.58897 13.0711 3.71334 13.0342 3.85449 13.0453C3.99564 13.0565 4.11269 13.1124 4.18685 13.185C4.24985 13.2466 4.31372 13.3493 4.31372 13.5422V15.3431C4.31372 15.6139 4.09425 15.8333 3.82352 15.8333C3.55279 15.8333 3.33332 15.6139 3.33332 15.3431Z" fill="#667185"/>
</svg>
) },
]
export default function Sidebar({setSidebarOpen}: { setSidebarOpen: (open: boolean) => void }) {
  const pathname = usePathname()
    const router = useRouter()
  const searchParams = useSearchParams()
  const tab = searchParams.get('tab') || 'dashboard'

  const handleTabChange = (key: string) => {
    const params = new URLSearchParams(searchParams.toString())
    params.set('tab', key)
    setSidebarOpen(false) // Close sidebar on tab change
    router.push(`?${params.toString()}`)
  }

  return (
    <aside className="md:w-[272px] w-full  flex flex-col justify-between bg-white border-r h-full p-4" style={{borderRightColor:"#E4E7EC"}}>
      <div>
 <h1 className="text-[26px] text-center font-extrabold mb-6 text-black">DojoConnect</h1>
      <nav className="flex flex-col gap-2">
        {links.map(({ key, label, icon }) => {
  const isActive = tab === key
  return (
    <button
      key={key}
      onClick={() => handleTabChange(key)}
      className={`px-4 py-3 rounded-md flex gap-3 w-full text-left items-center ${
        isActive
          ? 'bg-red-100 text-red-600 font-medium'
          : 'text-gray-700 hover:bg-gray-100'
      }`}
    >
      <span className={isActive ? 'text-[#E93333]' : 'text-[#70707A]'}>
        {icon}
      </span>
      {label}
    </button>
  )
})}

      </nav>
      </div>
     <div className='flex flex-col gap-8 pb-10'>
<nav className="flex flex-col gap-1">
        {links2.map(({ key, label,icon }) => (
           <button
              key={key}
              onClick={() => handleTabChange(key)}
              className={`p-2 rounded-md flex gap-3 w-full text-left ${
                tab === key
                  ? 'bg-red-100 text-red-600 font-medium'
                  : 'text-gray-700 hover:bg-gray-100'
              }`}
            >
              {icon}
              {label}
            </button>
        ))}
      </nav>
      <div className='flex justify-between items-center  '>
        <div className='flex gap-3 items-center justify-center'>
<div className='w-[40px] h-[40px] bg-[#FFE5E5] rounded-full flex items-center justify-center'>
<h2 className='text-[#F53033] text-sm font-semibold'>A0</h2>
</div>
<div className='my-auto'>
  <h2 className=' font-semibold text-sm text-[#0F1828]'>Admin</h2>
  <p className='text-[#475367] text-[10px] font-normal'>dojoadmin@mail.com</p>
</div>
        </div>
        <div className='my-auto'>
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.24999 3.33317C6.71023 3.33317 7.08332 2.96007 7.08332 2.49984C7.08332 2.0396 6.71023 1.6665 6.24999 1.6665H4.99999C3.15904 1.6665 1.66666 3.15889 1.66666 4.99984V14.9998C1.66666 16.8408 3.15904 18.3332 4.99999 18.3332H6.24999C6.71023 18.3332 7.08332 17.9601 7.08332 17.4998C7.08332 17.0396 6.71023 16.6665 6.24999 16.6665H4.99999C4.07952 16.6665 3.33332 15.9203 3.33332 14.9998L3.33332 4.99984C3.33332 4.07936 4.07952 3.33317 4.99999 3.33317H6.24999Z" fill="#0F1828"/>
<path d="M18.9226 10.5891C19.248 10.2637 19.248 9.73602 18.9226 9.41058L15.5892 6.07725C15.2638 5.75181 14.7362 5.75181 14.4107 6.07725C14.0853 6.40269 14.0853 6.93032 14.4107 7.25576L16.3215 9.1665L6.66666 9.1665C6.20642 9.1665 5.83332 9.5396 5.83332 9.99984C5.83332 10.4601 6.20642 10.8332 6.66666 10.8332L16.3215 10.8332L14.4107 12.7439C14.0853 13.0694 14.0853 13.597 14.4107 13.9224C14.7362 14.2479 15.2638 14.2479 15.5892 13.9224L18.9226 10.5891Z" fill="#0F1828"/>
</svg>

        </div>
      </div>
     </div>
    </aside>
  )
}
